(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{4659:(e,n,a)=>{"use strict";e.exports=a.p+"static/media/ort-wasm-simd-threaded.jsep.c198d660.wasm"},6760:(e,n,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8736)}])},7328:(e,n,a)=>{e.exports=a(8022)},7394:(e,n,a)=>{"use strict";e.exports=a.p+"static/media/ort.bundle.min.c07fcd07.mjs"},8223:e=>{e.exports={container:"Home_container__d256j",main:"Home_main__VkIEL",footer:"Home_footer__yFiaX",title:"Home_title__hYX6j",description:"Home_description__uXNdx",code:"Home_code__VVrIr",grid:"Home_grid__AVljO",card:"Home_card__E5spL",logo:"Home_logo__IOQAX"}},8736:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>C});var t=a(7876),r=a(7328),i=a.n(r),o=a(8223),s=a.n(o),l=a(4232),u=a(444),c=class extends String{constructor(e,n,a){super(String.fromCodePoint(...Array.from(new Uint32Array(e,n,a))))}},d=new TextDecoder("latin1");async function h(e,n={}){var a;let t,r,i,o;if("string"==typeof e){let n=await fetch(e);t=await n.arrayBuffer()}else t=e instanceof ArrayBuffer?e:e instanceof Blob?await e.arrayBuffer():e.buffer;let{headerOffset:s,headerLen:l}=function(e){let n=new DataView(e);if("\x93NUMPY"!==String.fromCharCode(n.getUint8(0),n.getUint8(1),n.getUint8(2),n.getUint8(3),n.getUint8(4),n.getUint8(5)))throw Error("Not an .npy file");let a=n.getUint8(6),t=n.getUint8(7);return a<=1?{headerOffset:10,headerLen:n.getUint16(8,!0),version:[a,t]}:{headerOffset:12,headerLen:Number(n.getUint32(8,!0)),version:[a,t]}}(t),u=new Uint8Array(t,s,l),{dtype:m,fortranOrder:g,shape:w}=(a=d.decode(u).trim(),r=/'descr'\s*:\s*'([^']+)'/.exec(a)?.[1],i=/'fortran_order'\s*:\s*(True|False)/.exec(a)?.[1]==="True",1===(o=(/'shape'\s*:\s*\(([^)]*)\)/.exec(a)?.[1]??"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>Number(e))).length&&a.includes("(n,)"),{dtype:r,fortranOrder:i,shape:o});if(!m||!w)throw Error("Malformed .npy header");return{data:function(e,n,a,t){let r=e.startsWith("<")||e.startsWith("|"),i=e.substring(e.length-2);if("U"===i[0]){let e=parseInt(i.substring(1)),t=String(new c(n,a)),r=[];for(let n=0;n<t.length;n+=e)r.push(t.substring(n,n+e).replace(/\0/g,""));return r}switch(i){case"b1":if(!r)return new Uint8Array(n,a);{let e=new Uint8Array(n,a),t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=0!==e[n];return t}case"i1":return new Int8Array(n,a);case"u1":return new Uint8Array(n,a);case"i2":return new Int16Array(n,a);case"u2":return new Uint16Array(n,a);case"i4":return new Int32Array(n,a);case"u4":return new Uint32Array(n,a);case"i8":return new BigInt64Array(n,a);case"u8":return new BigUint64Array(n,a);case"f4":return new Float32Array(n,a);case"f8":return new Float64Array(n,a);case"f2":if(!1!==t.convertFloat16){let e=new Uint16Array(n,a),t=new Float32Array(e.length);for(let n=0;n<e.length;n++)t[n]=function(e){let n=(32768&e)>>15,a=(31744&e)>>10,t=1023&e;return 0===a?(n?-1:1)*6103515625e-14*(t/1024):31===a?t?NaN:n?-1/0:1/0:(n?-1:1)*Math.pow(2,a-15)*(1+t/1024)}(e[n]);return t}return new Uint16Array(n,a);default:throw Error(`Unsupported dtype: ${e}`)}}(m,t,s+l,n),shape:w,dtype:m.slice(1),fortranOrder:g}}var m=a(2851),g=a.n(m);let w={0:["n01440764","Andean Guan"],1:["n01443537","Andean Tinamou"],2:["n01484850","Australian Brushturkey"],3:["n01491361","Band-tailed Guan"],4:["n01494475","Barred Tinamou"],5:["n01496331","Bartlett's Tinamou"],6:["n01498041","Baudo Guan"],7:["n01514668","Bearded Guan"],8:["n01514859","Berlepsch's Tinamou"],9:["n01518878","Biak Scrubfowl"],10:["n01530575","Black Tinamou"],11:["n01531178","Black-billed Brushturkey"],12:["n01532829","Black-capped Tinamou"],13:["n01534433","Black-fronted Piping Guan"],14:["n01537544","Blue-throated Piping Guan"],15:["n01558993","Brazilian Tinamou"],16:["n01560419","Brown Tinamou"],17:["n01580077","Brushland Tinamou"],18:["n01582220","Buff-browed Chachalaca"],19:["n01592084","Cauca Guan"],20:["n01601694","Chaco Chachalaca"],21:["n01608432","Chestnut-bellied Guan"],22:["n01614925","Chestnut-headed Chachalaca"],23:["n01616318","Chestnut-winged Chachalaca"],24:["n01622779","Chilean Tinamou"],25:["n01629819","Choco Tinamou"],26:["n01630670","Cinereous Tinamou"],27:["n01631663","Collared Brushturkey"],28:["n01632458","Colombian Chachalaca"],29:["n01632777","Common Ostrich"],30:["n01641577","Crested Guan"],31:["n01644373","Curve-billed Tinamou"],32:["n01644900","Darwin's Nothura"],33:["n01664065","Dusky Megapode"],34:["n01665541","Dusky-legged Guan"],35:["n01667114","Dwarf Cassowary"],36:["n01667778","Dwarf Tinamou"],37:["n01669191","East Brazilian Chachalaca"],38:["n01675722","Elegant Crested Tinamou"],39:["n01677366","Emu"],40:["n01682714","Great Spotted Kiwi"],41:["n01685808","Great Tinamou"],42:["n01687978","Greater Rhea"],43:["n01688243","Grey Tinamou"],44:["n01689811","Grey-headed Chachalaca"],45:["n01692333","Grey-legged Tinamou"],46:["n01693334","Highland Tinamou"],47:["n01694178","Hooded Tinamou"],48:["n01695060","Huayco Tinamou"],49:["n01697457","Lesser Nothura"],50:["n01698640","Lesser Rhea"],51:["n01704323","Little Chachalaca"],52:["n01728572","Little Spotted Kiwi"],53:["n01728920","Little Tinamou"],54:["n01729322","Maleo"],55:["n01729977","Malleefowl"],56:["n01734418","Marail Guan"],57:["n01735189","Melanesian Megapode"],58:["n01737021","Micronesian Megapode"],59:["n01739381","Moluccan Megapode"],60:["n01740131","New Guinea Scrubfowl"],61:["n01742172","Nicobar Megapode"],62:["n01744401","North Island Brown Kiwi"],63:["n01748264","Northern Cassowary"],64:["n01749939","Okarito Kiwi"],65:["n01751748","Orange-footed Scrubfowl"],66:["n01753488","Ornate Tinamou"],67:["n01755581","Pale-browed Tinamou"],68:["n01756291","Patagonian Tinamou"],69:["n01768244","Philippine Megapode"],70:["n01770081","Plain Chachalaca"],71:["n01770393","Puna Tinamou"],72:["n01773157","Quebracho Crested Tinamou"],73:["n01773549","Red-billed Brushturkey"],74:["n01773797","Red-faced Guan"],75:["n01774384","Red-legged Tinamou"],76:["n01774750","Red-throated Piping Guan"],77:["n01775062","Red-winged Tinamou"],78:["n01776313","Rufous-bellied Chachalaca"],79:["n01784675","Rufous-headed Chachalaca"],80:["n01795545","Rufous-vented Chachalaca"],81:["n01796340","Rusty Tinamou"],82:["n01797886","Rusty-margined Guan"],83:["n01798484","Scaled Chachalaca"],84:["n01806143","Slaty-breasted Tinamou"],85:["n01806567","Small-billed Tinamou"],86:["n01807496","Solitary Tinamou"],87:["n01817953","Somali Ostrich"],88:["n01818515","Southern Brown Kiwi"],89:["n01819313","Southern Cassowary"],90:["n01820546","Speckled Chachalaca"],91:["n01824575","Spix's Guan"],92:["n01828970","Spotted Nothura"],93:["n01829413","Sula Megapode"],94:["n01833805","Taczanowski's Tinamou"],95:["n01843065","Tanimbar Megapode"],96:["n01843383","Tataupa Tinamou"],97:["n01847000","Tawny-breasted Tinamou"],98:["n01855032","Tepui Tinamou"],99:["n01855672","Thicket Tinamou"],100:["n01860187","Tongan Megapode"],101:["n01871265","Trinidad Piping Guan"],102:["n01872401","Undulated Tinamou"],103:["n01873310","Vanuatu Megapode"],104:["n01877812","Variegated Tinamou"],105:["n01882714","Wattled Brushturkey"],106:["n01883070","West Mexican Chachalaca"],107:["n01910747","White-bellied Chachalaca"],108:["n01914609","White-bellied Nothura"],109:["n01917289","White-browed Guan"],110:["n01924916","White-crested Guan"],111:["n01930112","White-throated Tinamou"],112:["n01943899","White-winged Guan"],113:["n01944390","Yellow-legged Tinamou"]};async function f(e){let n=await u.wV.create("/cs416-web-demo/static/model/model.onnx",{executionProviders:["wasm"],graphOptimizationLevel:"all"});console.log("Inference session created"),console.log("----------------INPUT--------------------"),console.log(e),console.log("------------------------------------------");var[a,t]=await p(n,e);return[a,t]}async function p(e,n){let a=new Date,t={};t[e.inputNames[0]]=n;let r=await e.run(t),i=(new Date().getTime()-a.getTime())/1e3,o=r[e.outputNames[0]];console.log("----------------OUTPUT--------------------"),console.log(o),console.log("------------------------------------------"),console.log("output: ",o),console.log("output.data: ",o.data);var s=function(e,n=5){let a=g().isTypedArray(e)?Array.prototype.slice.call(e):e,t=g().reverse(g().sortBy(a.map((e,n)=>[e,n]),e=>e[0]));return g().take(t,n).map(e=>{let n=w[e[1]];return{id:n[0],index:parseInt(e[1].toString(),10),name:n[1],probability:e[0]}})}(o.data,5);return console.log("results: ",s),[s,i]}async function y(e,n=0){let a=await fetch(e),t=await a.arrayBuffer(),r=await h(t);if(n<0||n>=5)throw Error(`Batch index ${n} out of range. Must be between 0 and 4`);let i=11136*n,o=r.data.slice(i,i+11136);return new u.qY("float32",o,[1,128,87,1])}async function T(e){let n=await y("/cs416-web-demo/data/example_features.npy",e),[a,t]=await f(n);return[a,t]}let b=e=>{let n=(0,l.useRef)(null),[a,r]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),d=e=>{r("Inferencing..."),o(""),c(""),h(e)},h=async e=>{var[n,a]=await T(e),t=n[0];r(t.name.toUpperCase()),o(t.probability),c(`Inference speed: ${a} seconds`)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:s().grid,onClick:()=>d(0),children:"Bird Song A"}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{className:s().grid,onClick:()=>d(2),children:"Bird Song B"}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{className:s().grid,onClick:()=>d(3),children:"Bird Song C"}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{className:s().grid,onClick:()=>d(4),children:"Bird Song D"}),(0,t.jsx)("br",{}),(0,t.jsx)("canvas",{ref:n,width:e.width,height:e.height}),(0,t.jsxs)("span",{children:[a," ",i]}),(0,t.jsx)("span",{children:u})]})},C=()=>(0,t.jsxs)("div",{className:s().container,children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"ORT Web Example"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("main",{className:s().main,children:[(0,t.jsx)("h1",{className:s().title,children:"Bird Song Classification Examples"}),(0,t.jsx)(b,{width:240,height:240}),(0,t.jsx)("div",{id:"result",className:"mt-3"})]}),(0,t.jsx)("footer",{className:s().footer,children:(0,t.jsx)("a",{href:"https://onnxruntime.ai/docs",target:"_blank",rel:"noopener noreferrer"})})]})}},e=>{e.O(0,[929,888,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);